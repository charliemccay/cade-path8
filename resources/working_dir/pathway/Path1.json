[{"states": {"Start": {"type": "Initial", "direct_transition": "Initial_patient_GP_Visit", "setAttribute": {"NhsNumber": [{"Value": "7832003812", "ExpressionType": "string", "GivenAttribute": "", "TemplateName": "", "EndPoint": "", "TypeConnections": "['fhir']", "Connection": ""}]}}, "patient_assessment": {"type": "Simple", "direct_transition": "test_request", "setAttribute": {"PatientRcorded": [{"Value": "TRUE", "ExpressionType": "string", "GivenAttribute": "person['PersonID']<37", "TemplateName": "FHIR_XML_Patient.txt", "EndPoint": "Patient/", "TypeConnections": " ['fhir']", "Connection": "smartonfhir()"}]}}, "test_request": {"type": "Simple", "direct_transition": "Specimen_check", "setAttribute": {"PerformingOrg": [{"Value": "getvalue('PerformingOrg')", "ExpressionType": "script", "GivenAttribute": "person['PersonID']<37", "TemplateName": "FHIR_XML_PerformingOrg.txt", "EndPoint": "Organization/", "TypeConnections": " ['fhir']", "Connection": "smartonfhir()"}], "RequestingHCP": [{"Value": "getvalue('RequestingHCP')", "ExpressionType": "script", "GivenAttribute": "person['PersonID']<37", "TemplateName": "FHIR_XML_RequestingHCP.txt", "EndPoint": "Practitioner/", "TypeConnections": " ['fhir']", "Connection": "smartonfhir()"}], "OrgRequesting": [{"Value": "getvalue('RequestingOrg')", "ExpressionType": "script", "GivenAttribute": "person['PersonID']<37", "TemplateName": "FHIR_XML_OrgRequesting.txt", "EndPoint": "Organization/", "TypeConnections": "['fhir']", "Connection": "smartonfhir()"}]}}, "Specimen_check": {"type": "Simple", "direct_transition": "specimen_ready_for_test", "setAttribute": {"Request": [{"Value": "getvalue('Request')", "ExpressionType": "script", "GivenAttribute": "person['PersonID']<37", "TemplateName": "FHIR_XML_ProcedureRequest.txt", "EndPoint": "ProcedureRequest/", "TypeConnections": "['fhir']", "Connection": "smartonfhir()"}], "CollectingHCP": [{"Value": "getvalue('CollectingHCP')", "ExpressionType": "script", "GivenAttribute": "person['PersonID']<37", "TemplateName": "", "EndPoint": "", "TypeConnections": "['fhir']", "Connection": ""}], "OrgCollecting": [{"Value": "getvalue('CollectingOrganization')", "ExpressionType": "script", "GivenAttribute": "person['PersonID']<37", "TemplateName": "", "EndPoint": "", "TypeConnections": "['fhir']", "Connection": ""}], "Specimen": [{"Value": "getvalue('Specimen')", "ExpressionType": "script", "GivenAttribute": "person['PersonID']<37", "TemplateName": "FHIR_XML_Specimen.txt", "EndPoint": "Specimen/", "TypeConnections": "['fhir']", "Connection": "smartonfhir()"}]}}, "lab_test": {"type": "Simple", "direct_transition": "test_report", "setAttribute": {"PerformingHCP": [{"Value": "getvalue('PerformingHCP')", "ExpressionType": "script", "GivenAttribute": "person['PersonID']<37", "TemplateName": "", "EndPoint": "", "TypeConnections": "['fhir']", "Connection": ""}], "obs": [{"Value": "getvalue('Observation', person['PersonID'])", "ExpressionType": "script", "GivenAttribute": "person['PersonID']<37", "TemplateName": "FHIR_XML_Observation.txt", "EndPoint": "Observation/", "TypeConnections": " ['fhir']", "Connection": "smartonfhir()"}]}}, "test_report": {"type": "Simple", "direct_transition": "send_report"}, "send_report": {"type": "Simple", "direct_transition": "receive_report", "setAttribute": {"Report": [{"Value": "getvalue('DiagnosticReport')", "ExpressionType": "script", "GivenAttribute": "person['PersonID']<37", "TemplateName": "FHIR_XML_DiagnosticReport.txt", "EndPoint": "DiagnosticReport/", "TypeConnections": " ['fhir']", "Connection": "smartonfhir()"}], "BundleSent": [{"Value": "TRUE", "ExpressionType": "string", "GivenAttribute": "person['PersonID']<37", "TemplateName": "FHIR_Bundle.txt", "EndPoint": "Bundle/$validate", "TypeConnections": " ['fhir']", "Connection": "ccri()"}]}}, "receive_report": {"type": "Simple", "direct_transition": "GP_checks_report"}, "inform_patient": {"type": "Simple", "direct_transition": "Finish", "setAttribute": {"listing_provided": [{"Value": "TRUE", "ExpressionType": "string", "GivenAttribute": "person['PersonID']<37", "TemplateName": "InputsListing.txt", "EndPoint": "", "TypeConnections": "", "Connection": ""}], "json_provided": [{"Value": "TRUE", "ExpressionType": "string", "GivenAttribute": "person['PersonID']<37", "TemplateName": "person_json.txt", "EndPoint": "", "TypeConnections": "", "Connection": ""}]}}, "sending_test_request": {"type": "Delay", "exact": "{'quantity':randint(12,48),'unit':'hours'}"}, "GP_diagnosis": {"type": "Delay", "exact": "{'quantity':randint(5,10),'unit':'minutes'}"}, "specimen_ready_for_test": {"type": "Delay", "exact": "{'quantity':randint(1,30),'unit':'minutes'}", "direct_transition": "lab_test"}, "prepare_report_for_send": {"type": "Delay", "exact": "{'quantity':randint(1,24),'unit':'hours'}"}, "test_complete": {"type": "Delay", "exact": "{'quantity':randint(1,24,'unit':'hours'}"}, "report_in_transfer": {"type": "Delay", "exact": "{'quantity':randint(1,24),'unit':'hours'}"}, "Initial_patient_GP_Visit": {"type": "Delay", "exact": "{'quantity':randint(10,50),'unit':'minutes'}", "direct_transition": "patient_assessment"}, "GP_checks_report": {"type": "Delay", "exact": "{'quantity':randint(1,24),'unit':'hours'}", "direct_transition": "inform_patient"}, "Finish": {"type": "Terminal"}}}]